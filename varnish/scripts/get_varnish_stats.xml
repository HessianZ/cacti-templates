<interface>
	<name>Get Varnish Statistics</name>
	<description>probes the server for which ports have varnish 
	admin instances, then runs stats queries against them</description>
<script_path>sh |path_cacti|/scripts/get_varnish_stats.sh</script_path>
        <arg_prepend>|host_hostname|</arg_prepend>
	<arg_index>index</arg_index>
	<arg_query>query</arg_query>
        <arg_get>get</arg_get>
        <output_delimeter>:</output_delimeter>
        <fields>
                <ports>
                        <name>Ports</name>
                        <direction>input</direction>                        
			<query_name>ports</query_name>
                </ports>

		<conn_accepted>
			<name>conn_accepted</name>
                        <direction>output</direction>                        
			<query_name>conn_accepted</query_name>
		</conn_accepted>
		<reqs_recvd>
			<name>reqs_recvd</name>
                        <direction>output</direction>                        
			<query_name>reqs_recvd</query_name>
		</reqs_recvd>
		<cache_hits>
			<name>cache_hits</name>
                        <direction>output</direction>                        
			<query_name>cache_hits</query_name>
		</cache_hits>
		<cache_hits_pass>
			<name>cache_hits_pass</name>
                        <direction>output</direction>                        
			<query_name>cache_hits_pass</query_name>
		</cache_hits_pass>
		<cache_misses>
			<name>cache_misses</name>
                        <direction>output</direction>                        
			<query_name>cache_misses</query_name>
		</cache_misses>
		<n_struct_vbe_conn>
			<name>n_struct_vbe_conn</name>
                        <direction>output</direction>                        
			<query_name>n_struct_vbe_conn</query_name>
		</n_struct_vbe_conn>
                <n_wkr_thrds>
                        <name>n_wkr_thrds</name>
                        <direction>output</direction>
                        <query_name>n_wkr_thrds</query_name>
                </n_wkr_thrds>
                <n_wkr_thrds_created>
                        <name>n_wkr_thrds_created</name>
                        <direction>output</direction>
                        <query_name>n_wkr_thrds_created</query_name>
                </n_wkr_thrds_created>
                <n_wkr_thrds_limited>
                        <name>n_wkr_thrds_limited</name>
                        <direction>output</direction>
                        <query_name>n_wkr_thrds_limited</query_name>
                </n_wkr_thrds_limited>
                <n_wkr_thrds_not>
                        <name>n_wkr_thrds_not</name>
                        <direction>output</direction>
                        <query_name>n_wkr_thrds_not</query_name>
                </n_wkr_thrds_not>
                <n_qd_work_requests>
                        <name>n_qd_work_requests</name>
                        <direction>output</direction>
                        <query_name>n_qd_work_requests</query_name>
                </n_qd_work_requests>
                <n_od_work_requests>
                        <name>n_od_work_requests</name>
                        <direction>output</direction>
                        <query_name>n_od_work_requests</query_name>
                </n_od_work_requests>
                <n_drp_work_requests>
                        <name>n_drp_work_requests</name>
                        <direction>output</direction>
                        <query_name>n_drp_work_requests</query_name>
                </n_drp_work_requests>
                <n_backends>
                        <name>n_backends</name>
                        <direction>output</direction>
                        <query_name>n_backends</query_name>
                </n_backends>
                <backend_conn_fail>
                        <name>backend_conn_fail</name>
                        <direction>output</direction>
                        <query_name>backend_conn_fail</query_name>
                </backend_conn_fail>
                <backend_conn_recyc>
                        <name>backend_conn_recyc</name>
                        <direction>output</direction>
                        <query_name>backend_conn_recyc</query_name>
                </backend_conn_recyc>
                <backend_conn_reuses>
                        <name>backend_conn_reuses</name>
                        <direction>output</direction>
                        <query_name>backend_conn_reuses</query_name>
                </backend_conn_reuses>
                <backend_conn_succ>
                        <name>backend_conn_succ</name>
                        <direction>output</direction>
                        <query_name>backend_conn_succ</query_name>
                </backend_conn_succ>
                <backend_conn_was>
                        <name>backend_conn_was</name>
                        <direction>output</direction>
                        <query_name>backend_conn_was</query_name>
                </backend_conn_was>
                <backend_reqs>
                        <name>backend_reqs</name>
                        <direction>output</direction>
                        <query_name>backend_reqs</query_name>
                </backend_reqs>

        </fields>
</interface>
